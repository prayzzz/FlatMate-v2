@model FlatMate.Web.Areas.Lists.Data.ItemListMyVm

@{
    Layout = "_Layout";
    ViewData["Title"] = "Meine Listen";
    ViewData["PageTitle"] = "Meine Listen";
}

<section class="container">

    <div class="flex-row align-right actions">
        <a asp-controller="ItemList" asp-action="Create">Liste erstellen</a>
    </div>

</section>

<section class="container">

    <div class="alert-wrapper">
        @if (Model.IsError)
        {
            <div class="alert alert-danger">@Model.Result.Message</div>
        }
        else if (Model.IsSuccess)
        {
            <div class="alert alert-success">@Model.Result.Message</div>
        }
    </div>

    <div class="standard-box">
        <table>
            <thead>
                <tr>
                    <th width="50%">Name</th>
                    <th width="25%" class="show-large">Einträge</th>
                    <th class="show-large">Öffentlich?</th>
                    <th class="icon show-large"></th>
                </tr>
            </thead>

            <tbody>
                @foreach (var list in Model.MyLists)
                {
                    <tr>
                        <td>
                            <a asp-area="Lists" asp-controller="ItemList" asp-action="View" asp-route-id="@list.Id">@list.Name</a>
                        </td>
                        <td class="show-large">@list.ItemCount</td>
                        <td class="show-large">
                            <input type="checkbox" checked="@list.IsPublic" disabled title="Öffentlich?" />
                        </td>
                        <td class="icon show-large">
                            <a asp-area="Lists" asp-controller="ItemList" asp-action="Update" asp-route-id="@list.Id" class="icon-24 icon-pen" title="Bearbeiten"></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

</section>

<section class="container" style="margin-top: 5rem;">

    <div class="flex-row">
        <div class="flex-row actions vertical-center" style="width: 50%">
            <h3>Favoriten</h3>
        </div>

        <div class="flex-row align-right actions" style="width: 50%">
            <a asp-controller="ItemList" asp-action="Browse">Liste suchen</a>
        </div>
    </div>

</section>

<section class="container">

    <div class="standard-box">
    <table>
        <thead>
            <tr>
                <th width="75%">Name</th>
                <th class="show-large">Von</th>
                <th class="icon"></th>
            </tr>
        </thead>

        @if (!Model.Favorites.Any())
        {
            <div style="    padding: .5rem 1rem; text-align: center">
                Du hast noch keine Favoriten hinzugefügt.
            </div>
        }
        else
        {
            <table>
                <thead>
                    <tr>
                        <th width="75%">Name</th>
                        <th width="25%" class="show-large">Von</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var list in Model.Favorites)
                {
                        <tr>
                            <td>
                                <a asp-area="Lists" asp-controller="ItemList" asp-action="View" asp-route-id="@list.Id">@list.Name</a>
                            </td>
                            <td class="show-large">@list.Owner.UserName</td>
                            <td class="icon">
                                <a asp-area="Lists" asp-controller="ItemList" asp-action="Unfavorite" asp-route-id="@list.Id" class="icon-24 icon-heart-filled" title="Als Favorit entfernen"></a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }

    </div>

</section>
